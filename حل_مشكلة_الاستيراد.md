# ๐ง ุญู ูุดููุฉ ุงุณุชูุฑุงุฏ ุงููุฌููุนุงุช

**ุชุงุฑูุฎ:** 2025-11-03

---

## โ ุงููุดููุฉ:

```
ูุดู ุงูุงุณุชูุฑุงุฏ: Edge Function returned a non-2xx status code
```

---

## ๐ ุงูุฃุณุจุงุจ ุงููุญุชููุฉ:

### 1. Telegram Backend ุบูุฑ ูุชุงุญ

**ุงููุดููุฉ:**
- Edge Function ูุญุงูู ุงูุงุชุตุงู ุจู `http://localhost:8000`
- Backend ุบูุฑ ููุดุบูู ูุญููุงู

**ุงูุญู:**
- ุฅุฐุง ูุงู Backend ูุนูู ูุญููุงู: ุดุบููู ุฃููุงู
- ุฅุฐุง ูุงู Backend ููุดูุฑุงู ุนูู Render.com: ุงุณุชุฎุฏู URL ุงูุฎุงุต ุจู

---

### 2. Environment Variables ููููุฏุฉ

**ุงููุดููุฉ:**
- `TELEGRAM_BACKEND_URL` ุบูุฑ ููุฌูุฏ ูู Supabase Edge Functions
- `SERVICE_ROLE_KEY` ุบูุฑ ููุฌูุฏ

**ุงูุญู:**
- ุชุญูู ูู Environment Variables ูู Supabase Dashboard
- ุฃุถู `TELEGRAM_BACKEND_URL` ุฅุฐุง ูุงู ููููุฏุงู

---

### 3. ุฎุทุฃ ูู ูุนุงูุฌุฉ ุงูุฃุฎุทุงุก

**ุงููุดููุฉ:**
- Edge Function ูุนูุฏ status 500 ููู Frontend ูุง ูุนุฑุถ ุงูุฑุณุงูุฉ

**ุงูุญู:**
- ุชู ุชุญุฏูุซ ุงูููุฏ ูุนุฑุถ ุฑุณุงุฆู ุฎุทุฃ ุฃูุถุญ

---

## โ ุงูุญููู ุงููุทุจูุฉ:

### 1. ุชุญุณูู ูุนุงูุฌุฉ ุงูุฃุฎุทุงุก ูู Edge Function

ุชู ุชุญุฏูุซ `telegram-import-groups-from-session` ูู:
- โ ุนุฑุถ ุฑุณุงุฆู ุฎุทุฃ ุฃูุซุฑ ุชูุตููุงู
- โ ุงูุชุญูู ูู ุชููุฑ Backend
- โ ุนุฑุถ ูุนูููุงุช Environment Variables

### 2. ุชุญุณูู ูุนุงูุฌุฉ ุงูุฃุฎุทุงุก ูู Frontend

ุชู ุชุญุฏูุซ `groups/page.tsx` ูู:
- โ ุนุฑุถ ุฑุณุงุฆู ุฎุทุฃ ุฃูุซุฑ ูุถูุญุงู
- โ ุงูุชุญูู ูู response ุจุดูู ุฃูุถู

---

## ๐ ููููุฉ ุงูุชุญูู ูู ุงููุดููุฉ:

### ุงูุฎุทูุฉ 1: ุชุญูู ูู Environment Variables

ูู Supabase Dashboard:
1. Edge Functions โ Settings
2. ุชุญูู ูู:
   - โ `TELEGRAM_BACKEND_URL` ููุฌูุฏ
   - โ `SERVICE_ROLE_KEY` ููุฌูุฏ
   - โ `SUPABASE_URL` ููุฌูุฏ (ุฃู ูุชุงุญ ุชููุงุฆูุงู)

### ุงูุฎุทูุฉ 2: ุชุญูู ูู Telegram Backend

**ุฅุฐุง ูุงู Backend ูุนูู ูุญููุงู:**
```bash
cd telegram-backend
python main.py
```

**ุชุญูู ูู ุฃูู ูุนูู:**
- ุงูุชุญ: http://localhost:8000/health
- ูุฌุจ ุฃู ูุนูุฏ: `{"status": "ok"}`

**ุฅุฐุง ูุงู Backend ููุดูุฑุงู ุนูู Render.com:**
- ุชุฃูุฏ ูู ุฃู URL ุตุญูุญ
- ุชุฃูุฏ ูู ุฃู Backend ูุนูู (ูุง ูููู ูู ูุถุน sleep)

---

## ๐ ุงูุฎุทูุงุช ุงููุทููุจุฉ:

### 1. ุฅุนุงุฏุฉ ูุดุฑ Edge Function ุงููุญุฏุซ:

```powershell
cd D:\SocialProMax\SocialProMax
npx supabase functions deploy telegram-import-groups-from-session
```

### 2. ุงูุชุญูู ูู Environment Variables:

ูู Supabase Dashboard:
- `TELEGRAM_BACKEND_URL` = `http://localhost:8000` (ุฃู URL Backend ุงูููุดูุฑ)
- `SERVICE_ROLE_KEY` = ููุชุงุญู
- `SUPABASE_URL` = `https://gigrtzamstdyynmvwljq.supabase.co`

### 3. ุชุดุบูู Telegram Backend (ุฅุฐุง ูุงู ูุญููุงู):

```bash
cd telegram-backend
python main.py
```

---

## ๐ฏ ุงูุฎูุงุตุฉ:

**ุงูุฃุณุจุงุจ ุงููุญุชููุฉ:**
1. โ๏ธ Telegram Backend ุบูุฑ ููุดุบูู
2. โ๏ธ Environment Variables ููููุฏุฉ
3. โ๏ธ ุฎุทุฃ ูู ูุนุงูุฌุฉ ุงูุฃุฎุทุงุก

**ุงูุญููู:**
1. โ ุชู ุชุญุฏูุซ ุงูููุฏ ูุนุฑุถ ุฑุณุงุฆู ุฎุทุฃ ุฃูุถุญ
2. โ ุชุญูู ูู Environment Variables
3. โ ุดุบูู Telegram Backend

---

**ุจุนุฏ ุฅุนุงุฏุฉ ูุดุฑ Edge Function ูุงูุชุญูู ูู Environment Variablesุ ุฌุฑุจ ุงูุงุณุชูุฑุงุฏ ูุฑุฉ ุฃุฎุฑู!** ๐

