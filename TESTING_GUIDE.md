# دليل اختبار نظام Admin - SocialPro

## رابط المنصة
https://w9kdjqzu8d1e.space.minimax.io

---

## المستخدم الحالي في قاعدة البيانات

**الحساب الموجود:**
- الاسم: Anas Abdul'salam Ahmed
- الدور: Admin
- النقاط: 100

**ملاحظة:** هذا المستخدم تم إنشاؤه من اختبار سابق ولديه صلاحيات Admin.

---

## خطوات الاختبار

### الخطوة 1: تسجيل الدخول

1. انتقل إلى: https://w9kdjqzu8d1e.space.minimax.io/login
2. سجل دخول بحساب Anas Abdul'salam Ahmed
3. يجب أن يتم التوجيه التلقائي إلى Dashboard

---

### الخطوة 2: فحص زر لوحة الإدارة

**ما تبحث عنه:**
- في القائمة الجانبية، يجب أن يظهر زر بنفسجي اللون
- النص: "لوحة الإدارة"
- الأيقونة: درع (Shield)
- الموقع: قبل قائمة التنقل الرئيسية

**إذا لم يظهر الزر:**
1. افتح Console في المتصفح (اضغط F12)
2. ابحث عن رسالة تبدأ بـ "Dashboard Layout - User Profile"
3. تحقق من القيم:
   ```
   role: "admin"
   isAdmin: true
   ```
4. إذا كانت القيم صحيحة لكن الزر لا يظهر، أبلغني فوراً

**إذا ظهر الزر:**
✅ المشكلة الأولى تم حلها!

---

### الخطوة 3: فتح صفحة Admin

1. اضغط على زر "لوحة الإدارة"
2. يجب أن تفتح صفحة: https://w9kdjqzu8d1e.space.minimax.io/admin

**ما تبحث عنه:**
- العنوان: "لوحة تحكم المسؤول"
- 5 بطاقات إحصائية:
  1. إجمالي المستخدمين
  2. نشطون (30 يوم)
  3. اشتراكات مدفوعة
  4. إجمالي النقاط
  5. إجمالي الحملات
- رسم بياني: نمو المستخدمين (آخر 7 أيام)
- قائمة: آخر المستخدمين المسجلين
- 3 روابط سريعة في الأسفل

**إذا ظهرت الصفحة بشكل كامل:**
✅ المشكلة الثانية تم حلها!

**إذا ظهر loading فقط:**
1. افتح Console (F12)
2. ابحث عن رسائل تبدأ بـ "Admin Page"
3. ابحث عن أي أخطاء (باللون الأحمر)
4. أرسل لي لقطة شاشة من Console

---

### الخطوة 4: اختبار صفحات Admin الأخرى

من صفحة Admin الرئيسية، اضغط على الروابط التالية:

**1. إدارة المستخدمين**
- الرابط: /admin/users
- يجب أن تظهر جدول بجميع المستخدمين
- يمكن البحث والفلترة

**2. الإحصائيات المتقدمة**
- الرابط: /admin/stats
- يجب أن تظهر 3 رسوم بيانية:
  - نمو المستخدمين (خطي)
  - توزيع الاشتراكات (دائري)
  - استخدام المنصات (شريطي)

**3. إدارة الاشتراكات**
- الرابط: /admin/subscriptions
- يجب أن تظهر جدول الاشتراكات
- أزرار تجديد وإلغاء

**4. إدارة المنصات**
- الرابط: /admin/platforms
- يجب أن تظهر 12 بطاقة منصة
- يمكن تفعيل/تعطيل كل منصة

**5. إعدادات المنصة**
- الرابط: /admin/settings
- نموذج لتعديل الإعدادات العامة

---

### الخطوة 5: اختبار المستخدم الأول الجديد (اختياري)

**إذا أردت اختبار trigger المستخدم الأول:**

1. احذف جميع البيانات من قاعدة البيانات (سأساعدك)
2. سجل حساب جديد من الصفحة: /signup
3. تحقق من:
   - تم التسجيل بنجاح
   - حصلت على 100 نقطة
   - يظهر زر "لوحة الإدارة" فوراً (لأنك أول مستخدم)

---

## تقرير النتائج

بعد الاختبار، أخبرني بالنتائج:

### النتيجة 1: زر لوحة الإدارة
- [ ] يظهر بشكل صحيح
- [ ] لا يظهر (أرسل لقطة شاشة من Console)

### النتيجة 2: صفحة /admin
- [ ] تعمل بشكل كامل
- [ ] loading فقط (أرسل لقطة شاشة من Console)
- [ ] خطأ معين (حدد الخطأ)

### النتيجة 3: صفحات Admin الأخرى
- [ ] /admin/users - يعمل
- [ ] /admin/stats - يعمل
- [ ] /admin/subscriptions - يعمل
- [ ] /admin/platforms - يعمل
- [ ] /admin/settings - يعمل

### النتيجة 4: المستخدم الأول (إذا اختبرته)
- [ ] حصل على role = 'admin' تلقائياً
- [ ] حصل على role = 'user' (خطأ)

---

## ملاحظات Console المتوقعة

عند فتح Console (F12)، يجب أن ترى:

**في Dashboard:**
```
Dashboard Layout - User Profile: {
  userId: "...",
  role: "admin",
  isAdmin: true,
  fullName: "Anas Abdul'salam Ahmed"
}
```

**في صفحة Admin:**
```
Admin Page - Access check: { userId: "...", role: "admin", isAdmin: true }
Admin Page - Starting to load data...
Admin Page - Stats loaded: { totalUsers: 1, ... }
Admin Page - Recent users loaded: 1
Admin Page - Growth data loaded: 7 days
Admin Page - Data loading completed
```

---

## في حالة وجود مشاكل

إذا واجهت أي مشاكل:
1. التقط لقطة شاشة من الصفحة
2. التقط لقطة شاشة من Console (F12)
3. أخبرني بالخطوات التي قمت بها
4. سأصلح المشكلة فوراً

---

**جاهز للاختبار؟**
ابدأ من الخطوة 1 وأخبرني بالنتائج!
