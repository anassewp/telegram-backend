(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[980],{74275:function(e,t,a){Promise.resolve().then(a.bind(a,11668))},91662:function(e,t,a){"use strict";a.d(t,{Z:function(){return s}});let s=(0,a(36438).Z)("download",[["path",{d:"M12 15V3",key:"m9g1x1"}],["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["path",{d:"m7 10 5 5 5-5",key:"brsn70"}]])},30791:function(e,t,a){"use strict";a.d(t,{Z:function(){return s}});let s=(0,a(36438).Z)("funnel",[["path",{d:"M10 20a1 1 0 0 0 .553.895l2 1A1 1 0 0 0 14 21v-7a2 2 0 0 1 .517-1.341L21.74 4.67A1 1 0 0 0 21 3H3a1 1 0 0 0-.742 1.67l7.225 7.989A2 2 0 0 1 10 14z",key:"sc7q7i"}]])},94803:function(e,t,a){"use strict";a.d(t,{Z:function(){return s}});let s=(0,a(36438).Z)("mail",[["path",{d:"m22 7-8.991 5.727a2 2 0 0 1-2.009 0L2 7",key:"132q7q"}],["rect",{x:"2",y:"4",width:"20",height:"16",rx:"2",key:"izxlao"}]])},49575:function(e,t,a){"use strict";a.d(t,{Z:function(){return s}});let s=(0,a(36438).Z)("phone",[["path",{d:"M13.832 16.568a1 1 0 0 0 1.213-.303l.355-.465A2 2 0 0 1 17 15h3a2 2 0 0 1 2 2v3a2 2 0 0 1-2 2A18 18 0 0 1 2 4a2 2 0 0 1 2-2h3a2 2 0 0 1 2 2v3a2 2 0 0 1-.8 1.6l-.468.351a1 1 0 0 0-.292 1.233 14 14 0 0 0 6.392 6.384",key:"9njp5v"}]])},29485:function(e,t,a){"use strict";a.d(t,{Z:function(){return s}});let s=(0,a(36438).Z)("plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]])},55529:function(e,t,a){"use strict";a.d(t,{Z:function(){return s}});let s=(0,a(36438).Z)("search",[["path",{d:"m21 21-4.34-4.34",key:"14j7rj"}],["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}]])},54728:function(e,t,a){"use strict";a.d(t,{Z:function(){return s}});let s=(0,a(36438).Z)("square-pen",[["path",{d:"M12 3H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7",key:"1m0v6g"}],["path",{d:"M18.375 2.625a1 1 0 0 1 3 3l-9.013 9.014a2 2 0 0 1-.853.505l-2.873.84a.5.5 0 0 1-.62-.62l.84-2.873a2 2 0 0 1 .506-.852z",key:"ohrbg2"}]])},42350:function(e,t,a){"use strict";a.d(t,{Z:function(){return s}});let s=(0,a(36438).Z)("tag",[["path",{d:"M12.586 2.586A2 2 0 0 0 11.172 2H4a2 2 0 0 0-2 2v7.172a2 2 0 0 0 .586 1.414l8.704 8.704a2.426 2.426 0 0 0 3.42 0l6.58-6.58a2.426 2.426 0 0 0 0-3.42z",key:"vktsd0"}],["circle",{cx:"7.5",cy:"7.5",r:".5",fill:"currentColor",key:"kqv944"}]])},81826:function(e,t,a){"use strict";a.d(t,{Z:function(){return s}});let s=(0,a(36438).Z)("trash-2",[["path",{d:"M10 11v6",key:"nco0om"}],["path",{d:"M14 11v6",key:"outv1u"}],["path",{d:"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6",key:"miytrc"}],["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M8 6V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2",key:"e791ji"}]])},7136:function(e,t,a){"use strict";a.d(t,{Z:function(){return s}});let s=(0,a(36438).Z)("user-plus",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["line",{x1:"19",x2:"19",y1:"8",y2:"14",key:"1bvyxn"}],["line",{x1:"22",x2:"16",y1:"11",y2:"11",key:"1shjgl"}]])},11668:function(e,t,a){"use strict";a.r(t),a.d(t,{default:function(){return j}});var s=a(48217),l=a(47327),r=a(72758),n=a(36438);let i=(0,n.Z)("upload",[["path",{d:"M12 3v12",key:"1x0j5s"}],["path",{d:"m17 8-5-5-5 5",key:"7q97r8"}],["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}]]);var c=a(91662),d=a(29485),o=a(7136),u=a(42350),x=a(55529),m=a(30791);let h=(0,n.Z)("ellipsis-vertical",[["circle",{cx:"12",cy:"12",r:"1",key:"41hilf"}],["circle",{cx:"12",cy:"5",r:"1",key:"gxeob9"}],["circle",{cx:"12",cy:"19",r:"1",key:"lyex9k"}]]);var p=a(94803),b=a(49575),g=a(54728),f=a(81826);function j(){let[e,t]=(0,l.useState)([]),[a,n]=(0,l.useState)(!0),[j,y]=(0,l.useState)(""),[v,N]=(0,l.useState)("all"),[w,k]=(0,l.useState)(!1),[Z,M]=(0,l.useState)(""),[C,I]=(0,l.useState)({name:"",email:"",phone:"",tags:"",notes:""}),S=[{id:"1",name:"أحمد محمد",email:"ahmed@example.com",phone:"+966501234567",tags:["عميل","مهتم"],notes:"عميل محتمل من حملة فيسبوك",created_at:new Date().toISOString()},{id:"2",name:"فاطمة علي",email:"fatima@example.com",phone:"+966507654321",tags:["عميل","نشط"],notes:"اشترك في الخطة الشهرية",created_at:new Date().toISOString()},{id:"3",name:"خالد عبدالله",email:"khaled@example.com",phone:"+966509876543",tags:["محتمل"],notes:"طلب عرض سعر",created_at:new Date().toISOString()}];(0,l.useEffect)(()=>{O()},[]);let O=async()=>{let{data:{user:e}}=await r.O.auth.getUser();e&&(M(e.id),t(S)),n(!1)},q=Array.from(new Set(e.flatMap(e=>e.tags))),z=a=>{t(e.filter(e=>e.id!==a))},_=e.filter(e=>{let t=e.name.toLowerCase().includes(j.toLowerCase())||e.email.toLowerCase().includes(j.toLowerCase())||e.phone.includes(j),a="all"===v||e.tags.includes(v);return t&&a});return a?(0,s.jsx)("div",{className:"flex items-center justify-center min-h-[400px]",children:(0,s.jsxs)("div",{className:"text-center",children:[(0,s.jsx)("div",{className:"w-16 h-16 border-4 border-primary-500 border-t-transparent rounded-full animate-spin mx-auto mb-4"}),(0,s.jsx)("p",{className:"text-neutral-600",children:"جاري تحميل جهات الاتصال..."})]})}):(0,s.jsxs)("div",{className:"space-y-8",children:[(0,s.jsxs)("div",{className:"flex items-center justify-between",children:[(0,s.jsxs)("div",{children:[(0,s.jsx)("h1",{className:"text-3xl font-bold text-neutral-900 mb-2",children:"جهات الاتصال"}),(0,s.jsx)("p",{className:"text-neutral-600",children:"أدر قاعدة بيانات عملائك وجهات اتصالك"})]}),(0,s.jsxs)("div",{className:"flex gap-3",children:[(0,s.jsxs)("button",{className:"px-4 py-2 bg-neutral-100 text-neutral-700 rounded-lg font-medium hover:bg-neutral-200 flex items-center gap-2",children:[(0,s.jsx)(i,{className:"w-5 h-5"}),"استيراد"]}),(0,s.jsxs)("button",{className:"px-4 py-2 bg-neutral-100 text-neutral-700 rounded-lg font-medium hover:bg-neutral-200 flex items-center gap-2",children:[(0,s.jsx)(c.Z,{className:"w-5 h-5"}),"تصدير"]}),(0,s.jsxs)("button",{onClick:()=>k(!0),className:"px-6 py-2 bg-primary-600 text-white rounded-lg font-semibold btn-transition hover:bg-primary-700 flex items-center gap-2",children:[(0,s.jsx)(d.Z,{className:"w-5 h-5"}),"إضافة جهة اتصال"]})]})]}),(0,s.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-6",children:[(0,s.jsxs)("div",{className:"bg-white p-6 rounded-xl border border-neutral-200",children:[(0,s.jsxs)("div",{className:"flex items-center justify-between mb-2",children:[(0,s.jsx)("span",{className:"text-neutral-600 text-sm",children:"إجمالي جهات الاتصال"}),(0,s.jsx)(o.Z,{className:"w-5 h-5 text-primary-600"})]}),(0,s.jsx)("div",{className:"text-3xl font-bold text-neutral-900",children:e.length})]}),(0,s.jsxs)("div",{className:"bg-white p-6 rounded-xl border border-neutral-200",children:[(0,s.jsxs)("div",{className:"flex items-center justify-between mb-2",children:[(0,s.jsx)("span",{className:"text-neutral-600 text-sm",children:"عملاء نشطون"}),(0,s.jsx)(u.Z,{className:"w-5 h-5 text-green-600"})]}),(0,s.jsx)("div",{className:"text-3xl font-bold text-green-600",children:e.filter(e=>e.tags.includes("نشط")).length})]}),(0,s.jsxs)("div",{className:"bg-white p-6 rounded-xl border border-neutral-200",children:[(0,s.jsxs)("div",{className:"flex items-center justify-between mb-2",children:[(0,s.jsx)("span",{className:"text-neutral-600 text-sm",children:"عملاء محتملون"}),(0,s.jsx)(u.Z,{className:"w-5 h-5 text-yellow-600"})]}),(0,s.jsx)("div",{className:"text-3xl font-bold text-yellow-600",children:e.filter(e=>e.tags.includes("محتمل")).length})]}),(0,s.jsxs)("div",{className:"bg-white p-6 rounded-xl border border-neutral-200",children:[(0,s.jsxs)("div",{className:"flex items-center justify-between mb-2",children:[(0,s.jsx)("span",{className:"text-neutral-600 text-sm",children:"تم الإضافة اليوم"}),(0,s.jsx)(d.Z,{className:"w-5 h-5 text-blue-600"})]}),(0,s.jsx)("div",{className:"text-3xl font-bold text-blue-600",children:"0"})]})]}),(0,s.jsx)("div",{className:"bg-white p-4 rounded-xl border border-neutral-200",children:(0,s.jsxs)("div",{className:"flex flex-col md:flex-row gap-4",children:[(0,s.jsxs)("div",{className:"flex-1 relative",children:[(0,s.jsx)(x.Z,{className:"absolute right-3 top-1/2 transform -translate-y-1/2 text-neutral-400 w-5 h-5"}),(0,s.jsx)("input",{type:"text",value:j,onChange:e=>y(e.target.value),placeholder:"بحث عن جهة اتصال...",className:"w-full pr-12 pl-4 py-2 border border-neutral-200 rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-primary-500 outline-none"})]}),(0,s.jsxs)("select",{value:v,onChange:e=>N(e.target.value),className:"px-4 py-2 border border-neutral-200 rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-primary-500 outline-none",children:[(0,s.jsx)("option",{value:"all",children:"جميع التصنيفات"}),q.map(e=>(0,s.jsx)("option",{value:e,children:e},e))]}),(0,s.jsxs)("button",{className:"px-4 py-2 bg-neutral-100 text-neutral-700 rounded-lg hover:bg-neutral-200 flex items-center gap-2",children:[(0,s.jsx)(m.Z,{className:"w-5 h-5"}),"المزيد من الفلاتر"]})]})}),0===_.length?(0,s.jsxs)("div",{className:"bg-white rounded-2xl border border-neutral-200 p-16 text-center",children:[(0,s.jsx)(o.Z,{className:"w-16 h-16 text-neutral-300 mx-auto mb-4"}),(0,s.jsx)("h3",{className:"text-xl font-bold text-neutral-900 mb-2",children:"لا توجد جهات اتصال"}),(0,s.jsx)("p",{className:"text-neutral-600 mb-6",children:"ابدأ بإضافة جهات اتصال جديدة أو استيراد قائمة موجودة"}),(0,s.jsx)("button",{onClick:()=>k(!0),className:"px-6 py-3 bg-primary-600 text-white rounded-lg font-semibold btn-transition hover:bg-primary-700",children:"إضافة جهة اتصال الآن"})]}):(0,s.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:_.map(e=>(0,s.jsxs)("div",{className:"bg-white p-6 rounded-2xl border border-neutral-200 hover:border-primary-500 transition-all card-hover",children:[(0,s.jsxs)("div",{className:"flex items-start justify-between mb-4",children:[(0,s.jsxs)("div",{className:"flex-1",children:[(0,s.jsx)("h3",{className:"text-lg font-bold text-neutral-900 mb-1",children:e.name}),e.tags.length>0&&(0,s.jsx)("div",{className:"flex gap-2 flex-wrap",children:e.tags.map((e,t)=>(0,s.jsx)("span",{className:"px-2 py-1 bg-primary-100 text-primary-700 text-xs rounded-full",children:e},t))})]}),(0,s.jsx)("button",{className:"p-2 hover:bg-neutral-100 rounded-lg",children:(0,s.jsx)(h,{className:"w-5 h-5 text-neutral-400"})})]}),(0,s.jsxs)("div",{className:"space-y-3 mb-4",children:[(0,s.jsxs)("div",{className:"flex items-center gap-3 text-sm text-neutral-600",children:[(0,s.jsx)(p.Z,{className:"w-4 h-4 text-neutral-400"}),(0,s.jsx)("span",{className:"truncate",children:e.email})]}),(0,s.jsxs)("div",{className:"flex items-center gap-3 text-sm text-neutral-600",children:[(0,s.jsx)(b.Z,{className:"w-4 h-4 text-neutral-400"}),(0,s.jsx)("span",{children:e.phone})]})]}),e.notes&&(0,s.jsx)("div",{className:"mb-4 p-3 bg-neutral-50 rounded-lg",children:(0,s.jsx)("p",{className:"text-sm text-neutral-700 line-clamp-2",children:e.notes})}),(0,s.jsxs)("div",{className:"flex gap-2 pt-4 border-t border-neutral-200",children:[(0,s.jsxs)("button",{className:"flex-1 px-4 py-2 bg-neutral-100 text-neutral-700 rounded-lg hover:bg-neutral-200 flex items-center justify-center gap-2 text-sm",children:[(0,s.jsx)(g.Z,{className:"w-4 h-4"}),"تحرير"]}),(0,s.jsx)("button",{onClick:()=>z(e.id),className:"px-4 py-2 bg-red-50 text-red-600 rounded-lg hover:bg-red-100 flex items-center justify-center",children:(0,s.jsx)(f.Z,{className:"w-4 h-4"})})]})]},e.id))}),w&&(0,s.jsx)("div",{className:"fixed inset-0 bg-black/50 z-50 flex items-center justify-center p-4",children:(0,s.jsxs)("div",{className:"bg-white rounded-2xl max-w-md w-full p-6 max-h-[90vh] overflow-y-auto",children:[(0,s.jsx)("h3",{className:"text-2xl font-bold text-neutral-900 mb-6",children:"إضافة جهة اتصال جديدة"}),(0,s.jsxs)("div",{className:"space-y-4",children:[(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{className:"block text-sm font-medium text-neutral-700 mb-2",children:"الاسم *"}),(0,s.jsx)("input",{type:"text",value:C.name,onChange:e=>I({...C,name:e.target.value}),className:"w-full px-4 py-2 border border-neutral-300 rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-primary-500 outline-none",placeholder:"أحمد محمد",required:!0})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{className:"block text-sm font-medium text-neutral-700 mb-2",children:"البريد الإلكتروني *"}),(0,s.jsx)("input",{type:"email",value:C.email,onChange:e=>I({...C,email:e.target.value}),className:"w-full px-4 py-2 border border-neutral-300 rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-primary-500 outline-none",placeholder:"ahmed@example.com",required:!0})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{className:"block text-sm font-medium text-neutral-700 mb-2",children:"رقم الهاتف *"}),(0,s.jsx)("input",{type:"tel",value:C.phone,onChange:e=>I({...C,phone:e.target.value}),className:"w-full px-4 py-2 border border-neutral-300 rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-primary-500 outline-none",placeholder:"+966501234567",required:!0})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{className:"block text-sm font-medium text-neutral-700 mb-2",children:"التصنيفات (افصل بفاصلة)"}),(0,s.jsx)("input",{type:"text",value:C.tags,onChange:e=>I({...C,tags:e.target.value}),className:"w-full px-4 py-2 border border-neutral-300 rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-primary-500 outline-none",placeholder:"عميل, مهتم, نشط"})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{className:"block text-sm font-medium text-neutral-700 mb-2",children:"ملاحظات"}),(0,s.jsx)("textarea",{value:C.notes,onChange:e=>I({...C,notes:e.target.value}),className:"w-full px-4 py-2 border border-neutral-300 rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-primary-500 outline-none resize-none",rows:3,placeholder:"أي ملاحظات إضافية..."})]})]}),(0,s.jsxs)("div",{className:"flex gap-3 mt-6",children:[(0,s.jsx)("button",{onClick:()=>{t([{id:Date.now().toString(),name:C.name,email:C.email,phone:C.phone,tags:C.tags.split(",").map(e=>e.trim()).filter(Boolean),notes:C.notes,created_at:new Date().toISOString()},...e]),k(!1),I({name:"",email:"",phone:"",tags:"",notes:""})},disabled:!C.name||!C.email||!C.phone,className:"flex-1 px-6 py-3 bg-primary-600 text-white rounded-lg font-semibold btn-transition hover:bg-primary-700 disabled:opacity-50 disabled:cursor-not-allowed",children:"إضافة"}),(0,s.jsx)("button",{onClick:()=>{k(!1),I({name:"",email:"",phone:"",tags:"",notes:""})},className:"flex-1 px-6 py-3 bg-neutral-100 text-neutral-700 rounded-lg font-semibold hover:bg-neutral-200",children:"إلغاء"})]})]})})]})}},72758:function(e,t,a){"use strict";a.d(t,{O:function(){return s}});let s=(0,a(7645).eI)("https://gigrtzamstdyynmvwljq.supabase.co","eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6ImdpZ3J0emFtc3RkeXlubXZ3bGpxIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NjIwMDg5MDMsImV4cCI6MjA3NzU4NDkwM30.OZMTpBkAK2Zc4m0CyOdBbHsoAV_MS7FK-OpQNvuxgmc")}},function(e){e.O(0,[818,275,960,744],function(){return e(e.s=74275)}),_N_E=e.O()}]);