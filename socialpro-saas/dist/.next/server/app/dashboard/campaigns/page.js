(()=>{var e={};e.id=305,e.ids=[305],e.modules={72934:e=>{"use strict";e.exports=require("next/dist/client/components/action-async-storage.external.js")},54580:e=>{"use strict";e.exports=require("next/dist/client/components/request-async-storage.external.js")},45869:e=>{"use strict";e.exports=require("next/dist/client/components/static-generation-async-storage.external.js")},20399:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},32615:e=>{"use strict";e.exports=require("http")},35240:e=>{"use strict";e.exports=require("https")},55315:e=>{"use strict";e.exports=require("path")},68621:e=>{"use strict";e.exports=require("punycode")},76162:e=>{"use strict";e.exports=require("stream")},17360:e=>{"use strict";e.exports=require("url")},71568:e=>{"use strict";e.exports=require("zlib")},63569:(e,t,s)=>{"use strict";s.r(t),s.d(t,{GlobalError:()=>n.a,__next_app__:()=>u,originalPathname:()=>x,pages:()=>o,routeModule:()=>m,tree:()=>c}),s(6781),s(15708),s(41287),s(55582);var a=s(26818),r=s(65949),l=s(50153),n=s.n(l),i=s(1667),d={};for(let e in i)0>["default","tree","pages","GlobalError","originalPathname","__next_app__","routeModule"].indexOf(e)&&(d[e]=()=>i[e]);s.d(t,d);let c=["",{children:["dashboard",{children:["campaigns",{children:["__PAGE__",{},{page:[()=>Promise.resolve().then(s.bind(s,6781)),"/workspace/socialpro-saas/app/dashboard/campaigns/page.tsx"]}]},{}]},{layout:[()=>Promise.resolve().then(s.bind(s,15708)),"/workspace/socialpro-saas/app/dashboard/layout.tsx"],metadata:{icon:[async e=>(await Promise.resolve().then(s.bind(s,60291))).default(e)],apple:[],openGraph:[],twitter:[],manifest:void 0}}]},{layout:[()=>Promise.resolve().then(s.bind(s,41287)),"/workspace/socialpro-saas/app/layout.tsx"],"not-found":[()=>Promise.resolve().then(s.t.bind(s,55582,23)),"next/dist/client/components/not-found-error"],metadata:{icon:[async e=>(await Promise.resolve().then(s.bind(s,60291))).default(e)],apple:[],openGraph:[],twitter:[],manifest:void 0}}],o=["/workspace/socialpro-saas/app/dashboard/campaigns/page.tsx"],x="/dashboard/campaigns/page",u={require:s,loadChunk:()=>Promise.resolve()},m=new a.AppPageRouteModule({definition:{kind:r.x.APP_PAGE,page:"/dashboard/campaigns/page",pathname:"/dashboard/campaigns",bundlePath:"",filename:"",appPaths:[]},userland:{loaderTree:c}})},66196:(e,t,s)=>{Promise.resolve().then(s.bind(s,9679))},25746:(e,t,s)=>{"use strict";s.d(t,{Z:()=>a});let a=(0,s(5649).Z)("clock",[["path",{d:"M12 6v6l4 2",key:"mmk7yg"}],["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]])},28015:(e,t,s)=>{"use strict";s.d(t,{Z:()=>a});let a=(0,s(5649).Z)("eye",[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]])},64092:(e,t,s)=>{"use strict";s.d(t,{Z:()=>a});let a=(0,s(5649).Z)("funnel",[["path",{d:"M10 20a1 1 0 0 0 .553.895l2 1A1 1 0 0 0 14 21v-7a2 2 0 0 1 .517-1.341L21.74 4.67A1 1 0 0 0 21 3H3a1 1 0 0 0-.742 1.67l7.225 7.989A2 2 0 0 1 10 14z",key:"sc7q7i"}]])},80485:(e,t,s)=>{"use strict";s.d(t,{Z:()=>a});let a=(0,s(5649).Z)("pause",[["rect",{x:"14",y:"3",width:"5",height:"18",rx:"1",key:"kaeet6"}],["rect",{x:"5",y:"3",width:"5",height:"18",rx:"1",key:"1wsw3u"}]])},87999:(e,t,s)=>{"use strict";s.d(t,{Z:()=>a});let a=(0,s(5649).Z)("play",[["path",{d:"M5 5a2 2 0 0 1 3.008-1.728l11.997 6.998a2 2 0 0 1 .003 3.458l-12 7A2 2 0 0 1 5 19z",key:"10ikf1"}]])},14758:(e,t,s)=>{"use strict";s.d(t,{Z:()=>a});let a=(0,s(5649).Z)("plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]])},6869:(e,t,s)=>{"use strict";s.d(t,{Z:()=>a});let a=(0,s(5649).Z)("square-pen",[["path",{d:"M12 3H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7",key:"1m0v6g"}],["path",{d:"M18.375 2.625a1 1 0 0 1 3 3l-9.013 9.014a2 2 0 0 1-.853.505l-2.873.84a.5.5 0 0 1-.62-.62l.84-2.873a2 2 0 0 1 .506-.852z",key:"ohrbg2"}]])},74761:(e,t,s)=>{"use strict";s.d(t,{Z:()=>a});let a=(0,s(5649).Z)("target",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["circle",{cx:"12",cy:"12",r:"6",key:"1vlfrh"}],["circle",{cx:"12",cy:"12",r:"2",key:"1c9p78"}]])},94453:(e,t,s)=>{"use strict";s.d(t,{Z:()=>a});let a=(0,s(5649).Z)("trash-2",[["path",{d:"M10 11v6",key:"nco0om"}],["path",{d:"M14 11v6",key:"outv1u"}],["path",{d:"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6",key:"miytrc"}],["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M8 6V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2",key:"e791ji"}]])},60244:(e,t,s)=>{"use strict";s.d(t,{Z:()=>a});let a=(0,s(5649).Z)("trending-up",[["path",{d:"M16 7h6v6",key:"box55l"}],["path",{d:"m22 7-8.5 8.5-5-5L2 17",key:"1t1m79"}]])},31532:(e,t,s)=>{"use strict";s.d(t,{Z:()=>a});let a=(0,s(5649).Z)("users",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["path",{d:"M16 3.128a4 4 0 0 1 0 7.744",key:"16gr8j"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}]])},4817:(e,t,s)=>{"use strict";var a=s(76875);s.o(a,"useRouter")&&s.d(t,{useRouter:function(){return a.useRouter}})},9679:(e,t,s)=>{"use strict";s.r(t),s.d(t,{default:()=>y});var a=s(84208),r=s(55159),l=s(53036),n=s(14758),i=s(74761),d=s(87999),c=s(80485),o=s(60244),x=s(8789),u=s(64092),m=s(25746),p=s(28015),h=s(31532),b=s(6869),g=s(94453),j=s(53020);function y(){let[e,t]=(0,r.useState)([]),[s,y]=(0,r.useState)([]),[v,f]=(0,r.useState)(!0),[N,w]=(0,r.useState)(""),[k,Z]=(0,r.useState)("all"),[_,M]=(0,r.useState)(!1),[q,P]=(0,r.useState)(""),S=e=>s.find(t=>t.id===e),C=e=>{switch(e){case"active":return"bg-green-100 text-green-700";case"paused":return"bg-yellow-100 text-yellow-700";case"completed":return"bg-blue-100 text-blue-700";default:return"bg-neutral-100 text-neutral-700"}},A=e=>{switch(e){case"active":return"نشطة";case"paused":return"متوقفة";case"completed":return"مكتملة";case"draft":return"مسودة";default:return e}},G=async()=>{let s={user_id:q,name:"حملة جديدة",platform_id:"whatsapp",status:"draft",start_date:new Date().toISOString(),end_date:new Date(Date.now()+2592e6).toISOString(),budget:1e3,target_audience:{},settings:{}},{data:a,error:r}=await l.O.from("campaigns").insert(s).select().single();!r&&a&&(t([a,...e]),M(!1))},z=async(s,a)=>{let r="active"===a?"paused":"active",{error:n}=await l.O.from("campaigns").update({status:r}).eq("id",s);n||t(e.map(e=>e.id===s?{...e,status:r}:e))},O=async s=>{let{error:a}=await l.O.from("campaigns").delete().eq("id",s);a||t(e.filter(e=>e.id!==s))},D=e.filter(e=>{let t=e.name.toLowerCase().includes(N.toLowerCase()),s="all"===k||e.status===k;return t&&s}),E={total:e.length,active:e.filter(e=>"active"===e.status).length,paused:e.filter(e=>"paused"===e.status).length,completed:e.filter(e=>"completed"===e.status).length};return v?a.jsx("div",{className:"flex items-center justify-center min-h-[400px]",children:(0,a.jsxs)("div",{className:"text-center",children:[a.jsx("div",{className:"w-16 h-16 border-4 border-primary-500 border-t-transparent rounded-full animate-spin mx-auto mb-4"}),a.jsx("p",{className:"text-neutral-600",children:"جاري تحميل الحملات..."})]})}):(0,a.jsxs)("div",{className:"space-y-8",children:[(0,a.jsxs)("div",{className:"flex items-center justify-between",children:[(0,a.jsxs)("div",{children:[a.jsx("h1",{className:"text-3xl font-bold text-neutral-900 mb-2",children:"الحملات التسويقية"}),a.jsx("p",{className:"text-neutral-600",children:"أنشئ وأدر حملاتك التسويقية عبر جميع المنصات"})]}),(0,a.jsxs)("button",{onClick:()=>M(!0),className:"px-6 py-3 bg-primary-600 text-white rounded-lg font-semibold btn-transition hover:bg-primary-700 flex items-center gap-2",children:[a.jsx(n.Z,{className:"w-5 h-5"}),"إنشاء حملة جديدة"]})]}),(0,a.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-6",children:[(0,a.jsxs)("div",{className:"bg-white p-6 rounded-xl border border-neutral-200",children:[(0,a.jsxs)("div",{className:"flex items-center justify-between mb-2",children:[a.jsx("span",{className:"text-neutral-600 text-sm",children:"إجمالي الحملات"}),a.jsx(i.Z,{className:"w-5 h-5 text-primary-600"})]}),a.jsx("div",{className:"text-3xl font-bold text-neutral-900",children:E.total})]}),(0,a.jsxs)("div",{className:"bg-white p-6 rounded-xl border border-neutral-200",children:[(0,a.jsxs)("div",{className:"flex items-center justify-between mb-2",children:[a.jsx("span",{className:"text-neutral-600 text-sm",children:"نشطة"}),a.jsx(d.Z,{className:"w-5 h-5 text-green-600"})]}),a.jsx("div",{className:"text-3xl font-bold text-green-600",children:E.active})]}),(0,a.jsxs)("div",{className:"bg-white p-6 rounded-xl border border-neutral-200",children:[(0,a.jsxs)("div",{className:"flex items-center justify-between mb-2",children:[a.jsx("span",{className:"text-neutral-600 text-sm",children:"متوقفة"}),a.jsx(c.Z,{className:"w-5 h-5 text-yellow-600"})]}),a.jsx("div",{className:"text-3xl font-bold text-yellow-600",children:E.paused})]}),(0,a.jsxs)("div",{className:"bg-white p-6 rounded-xl border border-neutral-200",children:[(0,a.jsxs)("div",{className:"flex items-center justify-between mb-2",children:[a.jsx("span",{className:"text-neutral-600 text-sm",children:"مكتملة"}),a.jsx(o.Z,{className:"w-5 h-5 text-blue-600"})]}),a.jsx("div",{className:"text-3xl font-bold text-blue-600",children:E.completed})]})]}),a.jsx("div",{className:"bg-white p-4 rounded-xl border border-neutral-200",children:(0,a.jsxs)("div",{className:"flex flex-col md:flex-row gap-4",children:[(0,a.jsxs)("div",{className:"flex-1 relative",children:[a.jsx(x.Z,{className:"absolute right-3 top-1/2 transform -translate-y-1/2 text-neutral-400 w-5 h-5"}),a.jsx("input",{type:"text",value:N,onChange:e=>w(e.target.value),placeholder:"بحث عن حملة...",className:"w-full pr-12 pl-4 py-2 border border-neutral-200 rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-primary-500 outline-none"})]}),(0,a.jsxs)("select",{value:k,onChange:e=>Z(e.target.value),className:"px-4 py-2 border border-neutral-200 rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-primary-500 outline-none",children:[a.jsx("option",{value:"all",children:"جميع الحالات"}),a.jsx("option",{value:"active",children:"نشطة"}),a.jsx("option",{value:"paused",children:"متوقفة"}),a.jsx("option",{value:"completed",children:"مكتملة"}),a.jsx("option",{value:"draft",children:"مسودة"})]}),(0,a.jsxs)("button",{className:"px-4 py-2 bg-neutral-100 text-neutral-700 rounded-lg hover:bg-neutral-200 flex items-center gap-2",children:[a.jsx(u.Z,{className:"w-5 h-5"}),"المزيد من الفلاتر"]})]})}),0===D.length?(0,a.jsxs)("div",{className:"bg-white rounded-2xl border border-neutral-200 p-16 text-center",children:[a.jsx(i.Z,{className:"w-16 h-16 text-neutral-300 mx-auto mb-4"}),a.jsx("h3",{className:"text-xl font-bold text-neutral-900 mb-2",children:"لا توجد حملات حالياً"}),a.jsx("p",{className:"text-neutral-600 mb-6",children:"ابدأ بإنشاء أول حملة تسويقية لك"}),a.jsx("button",{onClick:()=>M(!0),className:"px-6 py-3 bg-primary-600 text-white rounded-lg font-semibold btn-transition hover:bg-primary-700",children:"إنشاء حملة الآن"})]}):a.jsx("div",{className:"bg-white rounded-2xl border border-neutral-200 overflow-hidden",children:a.jsx("div",{className:"overflow-x-auto",children:(0,a.jsxs)("table",{className:"w-full",children:[a.jsx("thead",{className:"bg-neutral-50 border-b border-neutral-200",children:(0,a.jsxs)("tr",{children:[a.jsx("th",{className:"text-right px-6 py-4 text-sm font-semibold text-neutral-700",children:"اسم الحملة"}),a.jsx("th",{className:"text-right px-6 py-4 text-sm font-semibold text-neutral-700",children:"المنصة"}),a.jsx("th",{className:"text-right px-6 py-4 text-sm font-semibold text-neutral-700",children:"الحالة"}),a.jsx("th",{className:"text-right px-6 py-4 text-sm font-semibold text-neutral-700",children:"التاريخ"}),a.jsx("th",{className:"text-right px-6 py-4 text-sm font-semibold text-neutral-700",children:"الأداء"}),a.jsx("th",{className:"text-center px-6 py-4 text-sm font-semibold text-neutral-700",children:"الإجراءات"})]})}),a.jsx("tbody",{className:"divide-y divide-neutral-200",children:D.map(e=>{let t=S(e.platform_id);return(0,a.jsxs)("tr",{className:"hover:bg-neutral-50 transition-colors",children:[(0,a.jsxs)("td",{className:"px-6 py-4",children:[a.jsx("div",{className:"font-semibold text-neutral-900",children:e.name}),(0,a.jsxs)("div",{className:"text-sm text-neutral-600",children:["الميزانية: $",e.budget]})]}),a.jsx("td",{className:"px-6 py-4",children:t&&(0,a.jsxs)("div",{className:"flex items-center gap-2",children:[a.jsx("div",{className:"relative w-8 h-8",children:a.jsx(j.default,{src:t.icon,alt:t.name,fill:!0,className:"object-contain"})}),a.jsx("span",{className:"text-sm text-neutral-700",children:t.name})]})}),a.jsx("td",{className:"px-6 py-4",children:a.jsx("span",{className:`px-3 py-1 rounded-full text-xs font-medium ${C(e.status)}`,children:A(e.status)})}),a.jsx("td",{className:"px-6 py-4",children:(0,a.jsxs)("div",{className:"flex items-center gap-2 text-sm text-neutral-600",children:[a.jsx(m.Z,{className:"w-4 h-4"}),new Date(e.start_date).toLocaleDateString("ar-EG")]})}),a.jsx("td",{className:"px-6 py-4",children:(0,a.jsxs)("div",{className:"space-y-1",children:[(0,a.jsxs)("div",{className:"flex items-center gap-2 text-sm",children:[a.jsx(p.Z,{className:"w-4 h-4 text-neutral-400"}),a.jsx("span",{className:"text-neutral-900",children:e.views||0}),a.jsx("span",{className:"text-neutral-500",children:"مشاهدة"})]}),(0,a.jsxs)("div",{className:"flex items-center gap-2 text-sm",children:[a.jsx(h.Z,{className:"w-4 h-4 text-neutral-400"}),a.jsx("span",{className:"text-neutral-900",children:e.clicks||0}),a.jsx("span",{className:"text-neutral-500",children:"نقرة"})]})]})}),a.jsx("td",{className:"px-6 py-4",children:(0,a.jsxs)("div",{className:"flex items-center justify-center gap-2",children:["active"===e.status||"paused"===e.status?a.jsx("button",{onClick:()=>z(e.id,e.status),className:"p-2 hover:bg-neutral-100 rounded-lg transition-colors",title:"active"===e.status?"إيقاف مؤقت":"تفعيل",children:"active"===e.status?a.jsx(c.Z,{className:"w-4 h-4 text-yellow-600"}):a.jsx(d.Z,{className:"w-4 h-4 text-green-600"})}):null,a.jsx("button",{className:"p-2 hover:bg-neutral-100 rounded-lg transition-colors",title:"تحرير",children:a.jsx(b.Z,{className:"w-4 h-4 text-neutral-600"})}),a.jsx("button",{onClick:()=>O(e.id),className:"p-2 hover:bg-red-50 rounded-lg transition-colors",title:"حذف",children:a.jsx(g.Z,{className:"w-4 h-4 text-red-600"})})]})})]},e.id)})})]})})}),_&&a.jsx("div",{className:"fixed inset-0 bg-black/50 z-50 flex items-center justify-center p-4",children:(0,a.jsxs)("div",{className:"bg-white rounded-2xl max-w-md w-full p-6",children:[a.jsx("h3",{className:"text-2xl font-bold text-neutral-900 mb-4",children:"إنشاء حملة جديدة"}),a.jsx("p",{className:"text-neutral-600 mb-6",children:"سيتم إنشاء حملة جديدة كمسودة يمكنك تعديلها لاحقاً"}),(0,a.jsxs)("div",{className:"flex gap-3",children:[a.jsx("button",{onClick:G,className:"flex-1 px-6 py-3 bg-primary-600 text-white rounded-lg font-semibold btn-transition hover:bg-primary-700",children:"إنشاء"}),a.jsx("button",{onClick:()=>M(!1),className:"flex-1 px-6 py-3 bg-neutral-100 text-neutral-700 rounded-lg font-semibold hover:bg-neutral-200",children:"إلغاء"})]})]})})]})}},6781:(e,t,s)=>{"use strict";s.r(t),s.d(t,{default:()=>a});let a=(0,s(6913).createProxy)(String.raw`/workspace/socialpro-saas/app/dashboard/campaigns/page.tsx#default`)}};var t=require("../../../webpack-runtime.js");t.C(e);var s=e=>t(t.s=e),a=t.X(0,[799,943,793,550,6,20,520],()=>s(63569));module.exports=a})();