(()=>{var e={};e.id=140,e.ids=[140],e.modules={72934:e=>{"use strict";e.exports=require("next/dist/client/components/action-async-storage.external.js")},54580:e=>{"use strict";e.exports=require("next/dist/client/components/request-async-storage.external.js")},45869:e=>{"use strict";e.exports=require("next/dist/client/components/static-generation-async-storage.external.js")},20399:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},32615:e=>{"use strict";e.exports=require("http")},35240:e=>{"use strict";e.exports=require("https")},55315:e=>{"use strict";e.exports=require("path")},68621:e=>{"use strict";e.exports=require("punycode")},76162:e=>{"use strict";e.exports=require("stream")},17360:e=>{"use strict";e.exports=require("url")},71568:e=>{"use strict";e.exports=require("zlib")},35569:(e,r,t)=>{"use strict";t.r(r),t.d(r,{GlobalError:()=>n.a,__next_app__:()=>m,originalPathname:()=>p,pages:()=>d,routeModule:()=>u,tree:()=>c}),t(7383),t(41287),t(55582);var a=t(26818),s=t(65949),i=t(50153),n=t.n(i),l=t(1667),o={};for(let e in l)0>["default","tree","pages","GlobalError","originalPathname","__next_app__","routeModule"].indexOf(e)&&(o[e]=()=>l[e]);t.d(r,o);let c=["",{children:["admin",{children:["settings",{children:["__PAGE__",{},{page:[()=>Promise.resolve().then(t.bind(t,7383)),"/workspace/socialpro-saas/app/admin/settings/page.tsx"]}]},{}]},{metadata:{icon:[async e=>(await Promise.resolve().then(t.bind(t,60291))).default(e)],apple:[],openGraph:[],twitter:[],manifest:void 0}}]},{layout:[()=>Promise.resolve().then(t.bind(t,41287)),"/workspace/socialpro-saas/app/layout.tsx"],"not-found":[()=>Promise.resolve().then(t.t.bind(t,55582,23)),"next/dist/client/components/not-found-error"],metadata:{icon:[async e=>(await Promise.resolve().then(t.bind(t,60291))).default(e)],apple:[],openGraph:[],twitter:[],manifest:void 0}}],d=["/workspace/socialpro-saas/app/admin/settings/page.tsx"],p="/admin/settings/page",m={require:t,loadChunk:()=>Promise.resolve()},u=new a.AppPageRouteModule({definition:{kind:s.x.APP_PAGE,page:"/admin/settings/page",pathname:"/admin/settings",bundlePath:"",filename:"",appPaths:[]},userland:{loaderTree:c}})},82627:(e,r,t)=>{Promise.resolve().then(t.t.bind(t,18809,23)),Promise.resolve().then(t.t.bind(t,42299,23)),Promise.resolve().then(t.t.bind(t,28633,23)),Promise.resolve().then(t.t.bind(t,50991,23)),Promise.resolve().then(t.t.bind(t,97202,23)),Promise.resolve().then(t.t.bind(t,45558,23))},80086:(e,r,t)=>{Promise.resolve().then(t.bind(t,86432))},69696:()=>{},40995:(e,r,t)=>{"use strict";t.d(r,{Z:()=>a});let a=(0,t(5649).Z)("save",[["path",{d:"M15.2 3a2 2 0 0 1 1.4.6l3.8 3.8a2 2 0 0 1 .6 1.4V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2z",key:"1c8476"}],["path",{d:"M17 21v-7a1 1 0 0 0-1-1H8a1 1 0 0 0-1 1v7",key:"1ydtos"}],["path",{d:"M7 3v4a1 1 0 0 0 1 1h7",key:"t51u73"}]])},57314:(e,r,t)=>{"use strict";t.d(r,{Z:()=>a});let a=(0,t(5649).Z)("settings",[["path",{d:"M9.671 4.136a2.34 2.34 0 0 1 4.659 0 2.34 2.34 0 0 0 3.319 1.915 2.34 2.34 0 0 1 2.33 4.033 2.34 2.34 0 0 0 0 3.831 2.34 2.34 0 0 1-2.33 4.033 2.34 2.34 0 0 0-3.319 1.915 2.34 2.34 0 0 1-4.659 0 2.34 2.34 0 0 0-3.32-1.915 2.34 2.34 0 0 1-2.33-4.033 2.34 2.34 0 0 0 0-3.831A2.34 2.34 0 0 1 6.35 6.051a2.34 2.34 0 0 0 3.319-1.915",key:"1i5ecw"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]])},4817:(e,r,t)=>{"use strict";var a=t(76875);t.o(a,"useRouter")&&t.d(r,{useRouter:function(){return a.useRouter}})},86432:(e,r,t)=>{"use strict";t.r(r),t.d(r,{default:()=>c});var a=t(84208),s=t(55159),i=t(53036),n=t(4817),l=t(57314),o=t(40995);function c(){(0,n.useRouter)();let[e,r]=(0,s.useState)(!0),[t,c]=(0,s.useState)(!1),[d,p]=(0,s.useState)({platform_name:"SocialPro",max_free_campaigns:5,default_points:100,maintenance_mode:!1,email_notifications:!0,sms_notifications:!1}),m=async()=>{try{let{data:e,error:r}=await i.O.from("admin_settings").select("*").single();if(r&&"PGRST116"!==r.code)throw r;e&&p(e)}catch(e){console.error("خطأ في تحميل الإعدادات:",e)}finally{r(!1)}},u=async()=>{c(!0);try{if(d.id){let{error:e}=await i.O.from("admin_settings").update(d).eq("id",d.id);if(e)throw e}else{let{error:e}=await i.O.from("admin_settings").insert([d]);if(e)throw e}alert("تم حفظ الإعدادات بنجاح"),m()}catch(e){console.error("خطأ في حفظ الإعدادات:",e),alert("حدث خطأ أثناء الحفظ")}finally{c(!1)}};return e?a.jsx("div",{className:"flex items-center justify-center min-h-screen",children:a.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-primary"})}):a.jsx("div",{className:"min-h-screen bg-gray-50 p-6",children:(0,a.jsxs)("div",{className:"max-w-4xl mx-auto",children:[(0,a.jsxs)("div",{className:"mb-8",children:[(0,a.jsxs)("h1",{className:"text-3xl font-bold text-gray-900 flex items-center gap-2",children:[a.jsx(l.Z,{className:"w-8 h-8"}),"إعدادات المنصة"]}),a.jsx("p",{className:"text-gray-600 mt-1",children:"تكوين إعدادات النظام العامة"})]}),(0,a.jsxs)("div",{className:"bg-white rounded-xl shadow-sm border border-gray-200 p-6 space-y-6",children:[(0,a.jsxs)("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"اسم المنصة"}),a.jsx("input",{type:"text",value:d.platform_name,onChange:e=>p({...d,platform_name:e.target.value}),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary focus:border-transparent"})]}),(0,a.jsxs)("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"الحد الأقصى للحملات المجانية"}),a.jsx("input",{type:"number",value:d.max_free_campaigns,onChange:e=>p({...d,max_free_campaigns:parseInt(e.target.value)||0}),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary focus:border-transparent"}),a.jsx("p",{className:"text-sm text-gray-500 mt-1",children:"عدد الحملات المسموح بها للمستخدمين على الخطة المجانية"})]}),(0,a.jsxs)("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"النقاط الافتراضية عند التسجيل"}),a.jsx("input",{type:"number",value:d.default_points,onChange:e=>p({...d,default_points:parseInt(e.target.value)||0}),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary focus:border-transparent"}),a.jsx("p",{className:"text-sm text-gray-500 mt-1",children:"عدد النقاط الممنوحة للمستخدمين الجدد تلقائياً"})]}),(0,a.jsxs)("div",{className:"flex items-center justify-between p-4 bg-yellow-50 rounded-lg border border-yellow-200",children:[(0,a.jsxs)("div",{children:[a.jsx("p",{className:"font-medium text-gray-900",children:"وضع الصيانة"}),a.jsx("p",{className:"text-sm text-gray-600",children:"عند التفعيل، لن يتمكن المستخدمون من الوصول للمنصة"})]}),(0,a.jsxs)("label",{className:"relative inline-flex items-center cursor-pointer",children:[a.jsx("input",{type:"checkbox",checked:d.maintenance_mode,onChange:e=>p({...d,maintenance_mode:e.target.checked}),className:"sr-only peer"}),a.jsx("div",{className:"w-11 h-6 bg-gray-200 peer-focus:outline-none peer-focus:ring-4 peer-focus:ring-primary/20 rounded-full peer peer-checked:after:translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-[2px] after:right-[2px] after:bg-white after:border-gray-300 after:border after:rounded-full after:h-5 after:w-5 after:transition-all peer-checked:bg-primary"})]})]}),(0,a.jsxs)("div",{className:"flex items-center justify-between p-4 bg-gray-50 rounded-lg",children:[(0,a.jsxs)("div",{children:[a.jsx("p",{className:"font-medium text-gray-900",children:"إشعارات البريد الإلكتروني"}),a.jsx("p",{className:"text-sm text-gray-600",children:"إرسال رسائل بريد إلكتروني للمستخدمين"})]}),(0,a.jsxs)("label",{className:"relative inline-flex items-center cursor-pointer",children:[a.jsx("input",{type:"checkbox",checked:d.email_notifications,onChange:e=>p({...d,email_notifications:e.target.checked}),className:"sr-only peer"}),a.jsx("div",{className:"w-11 h-6 bg-gray-200 peer-focus:outline-none peer-focus:ring-4 peer-focus:ring-primary/20 rounded-full peer peer-checked:after:translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-[2px] after:right-[2px] after:bg-white after:border-gray-300 after:border after:rounded-full after:h-5 after:w-5 after:transition-all peer-checked:bg-primary"})]})]}),(0,a.jsxs)("div",{className:"flex items-center justify-between p-4 bg-gray-50 rounded-lg",children:[(0,a.jsxs)("div",{children:[a.jsx("p",{className:"font-medium text-gray-900",children:"إشعارات SMS"}),a.jsx("p",{className:"text-sm text-gray-600",children:"إرسال رسائل نصية للمستخدمين"})]}),(0,a.jsxs)("label",{className:"relative inline-flex items-center cursor-pointer",children:[a.jsx("input",{type:"checkbox",checked:d.sms_notifications,onChange:e=>p({...d,sms_notifications:e.target.checked}),className:"sr-only peer"}),a.jsx("div",{className:"w-11 h-6 bg-gray-200 peer-focus:outline-none peer-focus:ring-4 peer-focus:ring-primary/20 rounded-full peer peer-checked:after:translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-[2px] after:right-[2px] after:bg-white after:border-gray-300 after:border after:rounded-full after:h-5 after:w-5 after:transition-all peer-checked:bg-primary"})]})]}),a.jsx("div",{className:"pt-4 border-t border-gray-200",children:(0,a.jsxs)("button",{onClick:u,disabled:t,className:"w-full flex items-center justify-center gap-2 px-6 py-3 bg-primary text-white rounded-lg hover:bg-primary/90 transition-colors disabled:opacity-50 disabled:cursor-not-allowed",children:[a.jsx(o.Z,{className:"w-5 h-5"}),t?"جاري الحفظ...":"حفظ الإعدادات"]})})]})]})})}},53036:(e,r,t)=>{"use strict";t.d(r,{O:()=>a});let a=(0,t(78323).eI)("https://gigrtzamstdyynmvwljq.supabase.co","eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6ImdpZ3J0emFtc3RkeXlubXZ3bGpxIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NjIwMDg5MDMsImV4cCI6MjA3NzU4NDkwM30.OZMTpBkAK2Zc4m0CyOdBbHsoAV_MS7FK-OpQNvuxgmc")},7383:(e,r,t)=>{"use strict";t.r(r),t.d(r,{default:()=>a});let a=(0,t(6913).createProxy)(String.raw`/workspace/socialpro-saas/app/admin/settings/page.tsx#default`)},41287:(e,r,t)=>{"use strict";t.r(r),t.d(r,{default:()=>i,metadata:()=>s});var a=t(50207);t(75210);let s={title:"SocialPro - أقوى منصة عربية للتسويق الإلكتروني",description:"أدِر حساباتك، أطلق حملاتك، وحلل نتائجك من مكان واحد. وفّر الوقت وضاعف نتائجك مع أدوات تسويقية احترافية."};function i({children:e}){return a.jsx("html",{lang:"ar",dir:"rtl",children:a.jsx("body",{className:"antialiased",children:e})})}},60291:(e,r,t)=>{"use strict";t.r(r),t.d(r,{default:()=>s});var a=t(14793);let s=e=>[{type:"image/x-icon",sizes:"16x16",url:(0,a.fillMetadataSegment)(".",e.params,"favicon.ico")+""}]},75210:()=>{}};var r=require("../../../webpack-runtime.js");r.C(e);var t=e=>r(r.s=e),a=r.X(0,[799,943,793,550],()=>t(35569));module.exports=a})();