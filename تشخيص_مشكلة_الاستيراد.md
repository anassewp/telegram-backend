# ๐ ุชุดุฎูุต ูุดููุฉ ุงุณุชูุฑุงุฏ ุงููุฌููุนุงุช

**ุชุงุฑูุฎ:** 2025-11-03

---

## โ ุงูุฎุทุฃ:

```
ูุดู ุงูุงุณุชูุฑุงุฏ: Edge Function returned a non-2xx status code
```

---

## ๐ ุงูุฃุณุจุงุจ ุงููุญุชููุฉ (ูุฑุชุจุฉ ุญุณุจ ุงูุงุญุชูุงู):

### 1. โ๏ธ Telegram Backend ุบูุฑ ูุชุงุญ (ุงูุฃูุซุฑ ุงุญุชูุงูุงู)

**ุงููุดููุฉ:**
- Edge Function ูุญุงูู ุงูุงุชุตุงู ุจู `http://localhost:8000`
- Backend ุบูุฑ ููุดุบูู ูุญููุงู ุฃู URL ุฎุงุทุฆ

**ุงูุญู:**
- **ุฅุฐุง ูุงู Backend ูุญููุงู:** ุดุบููู ุฃููุงู
  ```bash
  cd telegram-backend
  python main.py
  ```
- **ุฅุฐุง ูุงู Backend ููุดูุฑุงู:** ุงุณุชุฎุฏู URL ุงูุฎุงุต ุจู ูู Environment Variables

---

### 2. โ๏ธ Environment Variables ููููุฏุฉ

**ุงููุดููุฉ:**
- `TELEGRAM_BACKEND_URL` ุบูุฑ ููุฌูุฏ ูู Supabase
- `SERVICE_ROLE_KEY` ุบูุฑ ููุฌูุฏ

**ุงูุญู:**
1. ุงุฐูุจ ุฅูู Supabase Dashboard โ Edge Functions โ Settings
2. ุชุญูู ูู:
   - โ `TELEGRAM_BACKEND_URL` = `http://localhost:8000` (ุฃู URL Backend ุงูููุดูุฑ)
   - โ `SERVICE_ROLE_KEY` = ููุชุงุญู
   - โ `SUPABASE_URL` = `https://gigrtzamstdyynmvwljq.supabase.co`

---

### 3. โ๏ธ ุงูุฌูุณุฉ ุบูุฑ ูุดุทุฉ

**ุงููุดููุฉ:**
- ุงูุฌูุณุฉ ูู ุญุงูุฉ `pending` ุฃู `inactive`

**ุงูุญู:**
- ุชุญูู ูู ุญุงูุฉ ุงูุฌูุณุฉ ูู ุตูุญุฉ Sessions
- ุชุฃูุฏ ูู ุฃู ุงูุฌูุณุฉ `active`

---

## โ ุงูุชุญุณููุงุช ุงููุทุจูุฉ:

### 1. ุชุญุณูู ูุนุงูุฌุฉ ุงูุฃุฎุทุงุก:

ุชู ุชุญุฏูุซ Edge Function ูู:
- โ ุนุฑุถ ุฑุณุงุฆู ุฎุทุฃ ุฃูุซุฑ ุชูุตููุงู
- โ ุงูุชุญูู ูู ุชููุฑ Backend
- โ ุนุฑุถ ูุนูููุงุช Environment Variables ูู logs

### 2. ุชุญุณูู Frontend:

ุชู ุชุญุฏูุซ `groups/page.tsx` ูู:
- โ ุนุฑุถ ุฑุณุงุฆู ุฎุทุฃ ุฃูุถุญ
- โ ุงูุชุญูู ูู response ุจุดูู ุฃูุถู

---

## ๐ ููููุฉ ุงูุชุญูู:

### ุงูุฎุทูุฉ 1: ูุญุต Logs ูู Supabase

1. ุงุฐูุจ ุฅูู: https://supabase.com/dashboard/project/gigrtzamstdyynmvwljq
2. Edge Functions โ `telegram-import-groups-from-session`
3. ุงุถุบุท **Logs**
4. ุงุจุญุซ ุนู ุฑุณุงุฆู ุงูุฎุทุฃ

### ุงูุฎุทูุฉ 2: ุงูุชุญูู ูู Telegram Backend

**ุฅุฐุง ูุงู ูุญููุงู:**
```bash
cd telegram-backend
python main.py
```

**ุชุญูู ูู Health:**
- ุงูุชุญ: http://localhost:8000/health
- ูุฌุจ ุฃู ูุนูุฏ: `{"status": "ok"}`

---

## ๐ ุงูุฎุทูุงุช ุงููุทููุจุฉ:

### 1. ุฅุนุงุฏุฉ ูุดุฑ Edge Function ุงููุญุฏุซ:

```powershell
cd D:\SocialProMax\SocialProMax
npx supabase functions deploy telegram-import-groups-from-session
```

### 2. ุงูุชุญูู ูู Environment Variables:

ูู Supabase Dashboard:
- `TELEGRAM_BACKEND_URL` = `http://localhost:8000` (ุฃู URL Backend ุงูููุดูุฑ)
- `SERVICE_ROLE_KEY` = ููุชุงุญู

### 3. ุชุดุบูู Telegram Backend (ุฅุฐุง ูุงู ูุญููุงู):

```bash
cd telegram-backend
python main.py
```

---

## ๐ฏ ุงูุฎุทูุงุช ุงูุชุงููุฉ:

1. โ ุฅุนุงุฏุฉ ูุดุฑ Edge Function ุงููุญุฏุซ
2. โ ุงูุชุญูู ูู Environment Variables
3. โ ุดุบูู Telegram Backend (ุฅุฐุง ูุงู ูุญููุงู)
4. โ ุฌุฑุจ ุงูุงุณุชูุฑุงุฏ ูุฑุฉ ุฃุฎุฑู
5. โ ุชุญูู ูู Logs ูู Supabase ุฅุฐุง ุงุณุชูุฑุช ุงููุดููุฉ

---

**ุจุนุฏ ุฅุนุงุฏุฉ ุงููุดุฑุ ุฌุฑุจ ุงูุงุณุชูุฑุงุฏ ูุฑุฉ ุฃุฎุฑู ูุฃุฎุจุฑูู ุจุงูุฑุณุงูุฉ ุงูุฌุฏูุฏุฉ!** ๐

