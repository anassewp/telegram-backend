# طرق البحث في مجموعات وقنوات تيليجرام العامة عبر Telegram Bot API وTelegram API: خريطة الطرق، القيود، والأمثلة العملية

## 1) مقدمة تنفيذية: ما الذي يمكن وما الذي لا يمكن فعله عبر واجهات تيليجرام
هذا التقرير يجيب عمليًا عن سؤالين أساسيين: ماذا يمكن البحث عنه، وبأي واجهة؟ أولاً، لا بد من التمييز بين واجهتين:

- Telegram Bot API: واجهة HTTP/HTTPS مبنية على نموذج “البوت”، مناسبة للتفاعل مع الرسائل، إدارة الدردشات، وإجراءات الإشراف والتفاعل داخل المحادثات التي يشارك فيها البوت. لا توفّر هذه الواجهة طريقة للبحث العالمي عن المجموعات أو القنوات أو الرسائل خارج سياق المحادثات التي ينتمي إليها البوت. عمليًا، البوت يرى ما يُرسل إليه أو ما يحدث داخل المجموعات التي هو عضو فيها وفق قواعد الخصوصية، ولا يمكنه تصفح العالم العام على تيليجرام كما يفعل المستخدم في تطبيق الهاتف.[^1]
- Telegram API (واجهة MTProto/Full API): توفّر قدرات بحث واسعة في العالم العام، أبرزها البحث عن الرسائل عبر الدردشات المحلية باستخدام messages.search، والبحث العالمي عبر messages.searchGlobal، والبحث العالمي عن المنشورات في القنوات العامة باستخدام channels.searchPosts. كما توفّر مجموعة واسعة من مرشحات الرسائل (InputMessagesFilter*) لضبط نوع المحتوى المعاد (صور، فيديو، روابط، ملفات موسيقى، إلخ).[^2]

هدف هذا التقرير هو رسم خريطة عملية دقيقة للقدرات الحقيقية، توضيح القيود والحدود (خصوصًا المرتبطة بالبحث المدفوع بالنجوم)، ثم تقديم أمثلة تنفيذية وخطوات سير عمل يمكن البناء عليها. الخلاصة السريعة: إن أردت استكشاف العالم العام للمجموعات والقنوات، فواجهة Telegram API (MTProto) هي مسارك. أما إن أردت إدارة وتحليل محادثة بعينها انضممت إليها كبوت، فـ Bot API هو المناسب، وهو محدود视野ًا بالقدر الذي تحكمه صلاحيات وملكية البوت في المحادثة.[^1][^2]

## 2) خريطة الطرق المتاحة: متى تستخدم Bot API ومتى تستخدم Telegram API (MTProto)
تتباين القدرات بشكل جذري بين الواجهتين. البوت لا يبحث خارج سياقه، بينما واجهة MTProto تتيح بحثًا عالميًا غنيًا داخل المحتوى العام. لتسهيل المفاضلة، يقدّم الجدول التالي مقارنة عالية المستوى.

جدول 1 — مقارنة عالية المستوى بين Bot API وTelegram API (MTProto)
| محور المقارنة | Telegram Bot API | Telegram API (MTProto) |
|---|---|---|
| نطاق الوصول | داخل المحادثات التي ينتمي إليها البوت | بحث عالمي في المحتوى العام وداخل الدردشات |
| البحث العالمي عن المجموعات/القنوات | غير متاح | متاح عبر channels.searchPosts وmessages.searchGlobal مع تصفيات |
| البحث داخل الرسائل | محدود بما يتلقى البوت/ينشره | متاح بـ messages.search (داخل دردشة) وmessages.searchGlobal (عالمي) |
| التصفيات حسب نوع المحتوى | غير متاح | متاح عبر InputMessagesFilter* (صور، فيديو، روابط، موسيقى، إلخ) |
| معلومات الدردشة | متاح عبر getChat، getChatAdministrators، getChatMemberCount، getChatMember | متاح عبر أنواع Full API (Chat/Channel وأمثالها) |
| القيود الخاصة | حدود رسائل للبوت | فتحات البحث المجانية ثم الدفع بالنجوم عند الاستنفاد |

المغزى العملي: إن كان متطلبك اكتشاف محتويات عامة عبر كلمات مفتاحية، أو تصنيفها (صور/فيديو/روابط)، فواجهة MTProto لا بد منها. أما إن كنت بصدد إدارة محادثة بعينها، أو استخراج معلومات محدودة عن جمهورها وإدارتها، فـ Bot API كافٍ وفعال.[^1][^2]

### 2.1) قدرات Telegram Bot API
يوفّر Bot API مجموعة واضحة من الطرائق لاستخلاص معلومات الدردشة وإدارة التفاعل داخلها:

- getChat: الحصول على معلومات محدثة عن الدردشة.
- getChatAdministrators: قائمة بالمشرفين في الدردشة.
- getChatMemberCount: عدد الأعضاء في الدردشة.
- getChatMember: معلومات عضو محدد في الدردشة (يُضمن نجاح الاستعلام لغير البوت فقط إذا كان البوت مشرفًا).

هذه الطرق لا تتيح “البحث العالمي” عن الدردشات أو الرسائل خارج سياق الدردشة التي ينتمي إليها البوت. نموذج الأمان بسيط: البوت يرى ويتصرف ضمن الأذونات الممنوحة له في المحادثة، ولا يُعد واجهة للتجوال في العالم العام.[^1]

### 2.2) قدرات Telegram API (MTProto) في البحث
توفّر MTProto ثلاثة محاور رئيسية للبحث:

- messages.search: البحث داخل دردشة معينة مع دعم مرشحات الرسائل (صور، فيديو، روابط، موسيقى، GIF، صوت، إلخ).
- messages.searchGlobal: البحث العالمي عبر التبويبات (دردشات، قنوات، تطبيقات، منشورات، وسائط، روابط، ملفات، موسيقى، رسائل صوتية). يمكن ضبط التصفية بقنوات فقط أو مجموعات فقط.
- channels.searchPosts: البحث عن منشورات القنوات العامة بالكلمات المفتاحية، أو استكشاف منشورات الهاشتاغات، مع دعم للدفع بالنجوم بعد استنفاد الفتحات المجانية.[^2]

هذا الإطار يمنح مرونة عالية لاستكشاف المحتوى العام وتصفيته وفق احتياجات تطبيقك.

## 3) البحث بالكلمات المفتاحية: الدردشات مقابل القنوات والمنشورات
يعتمد نمط البحث على الهدف:

- داخل دردشة محددة: استخدم messages.search مع كلمة مفتاحية q وMessagesFilter مناسب، وحدد offset وlimit للتحكم في الصفحات.
- استكشاف عالمي عبر الدردشات/المجموعات/القنوات: استخدم messages.searchGlobal مع إشارات groups_only أو broadcasts_only وتصفية إضافية عبر InputMessagesFilter* (مثل الصور/الفيديو/الروابط).
- البحث في منشورات القنوات العامة: استخدم channels.searchPosts، مع خيار الدفع بالنجوم عند الحاجة بعد استنفاد الفتحات المجانية.[^2]

جدول 2 — خريطة التصفيات المتوفرة ودلالتها
| المرشح (InputMessagesFilter) | الوصف المختصر | الاستخدام النموذجي |
|---|---|---|
| Photos | الصور فقط | معرض صور الدردشة |
| Video | مقاطع الفيديو فقط | معرض فيديو |
| PhotoVideo | الصور ومقاطع الفيديو | معرض وسائط بصري |
| Document | المستندات فقط | مكتبة ملفات عامة |
| Url | الرسائل التي تحتوي على روابط | تبويب الروابط |
| Gif | ملفات GIF فقط | تبويب GIF |
| Voice | الرسائل الصوتية | تبويب الرسائل الصوتية |
| Music | ملفات الموسيقى | تبويب الموسيقى |
| ChatPhotos | صور الدردشة/الملف الشخصي | أرشيف صور المجموعة |
| PhoneCalls | المكالمات الهاتفية | تبويب المكالمات |
| RoundVoice / RoundVideo | الفيديو الدائري/الرسائل الصوتية | تبويبات الميديا الدائرية |
| MyMentions | الرسائل التي تذكر المستخدم | سجل الإشارات |
| Geo | المواقع الجغرافية | خرائط/أماكن |
| Contacts | جهات الاتصال | فلترة جهات الاتصال |
| Pinned | الرسائل المثبتة | أرشيف المثبتات |

المغزى: مرشحات الرسائل ليست مجرد زينة؛ إنها طريقة فعّالة لتضييق نطاق النتائج وخدمة سيناريوهات تطبيقية محددة، مثل جمع الروابط في قناة معينة أو استخراج كل الموسيقى المرسلة في محادثة.[^2]

### 3.1) البحث داخل دردشة محددة باستخدام messages.search
- q: نص الاستعلام (الكلمات المفتاحية).
- filter: أحد مرشحات InputMessagesFilter* لضبط نوع المحتوى.
- min_date/max_date: نافذة زمنية.
- offset_id/add_offset/limit: تقسيم النتائج على صفحات مع تحكم بالبداية والكمية.
- max_id/min_id: تحديد نطاقات معرفية للرسائل لتفادي الازدواجية عند التصفح.[^2]

### 3.2) البحث العالمي باستخدام messages.searchGlobal
- q: الاستعلام النصي.
- broadcasts_only/groups_only/users_only: للتصفية على نطاق القنوات أو المجموعات أو المستخدمين.
- folder_id: تصفية ضمن مجلدات تيليجرام إن استُخدمت.
- offset_rate/offset_peer/offset_id/limit: إدارة الصفحات عبر جلسات استكشاف طويلة.
- يمكن دمج InputMessagesFilter مع رسائل الدردشة، القنوات، والوسائط عبر التبويبات المختلفة للبحث العالمي (دردشات، قنوات، تطبيقات، منشورات، وسائط، روابط، ملفات، موسيقى، رسائل صوتية).[^2]

### 3.3) البحث في منشورات القنوات العامة عبر channels.searchPosts
- hashtag: لاستكشاف منشورات وهاشتاغات عامة (بدون الرمز #).
- query: بحث نصي في منشورات القنوات العامة.
- allow_paid_stars: بعد استنفاد الفتحات المجانية، يمكن الدفع بالنجوم لاستكمال البحث.
- قبل التنفيذ، يُنصح بـ channels.checkSearchPostsFlood لمعرفة الفتحات المتبقية والوقت المتوقع لتوفر فتحات جديدة.[^2]

ملاحظة مهمة: تفاصيل صيغ الرسائل (قواعد بناء الاستعلام، أحرف管理等) لا تتوفر كاملة في المقتطفات المستخرجة هنا، وتستلزم الرجوع إلى صفحة Methods الرسمية لالتقاط الصيغ الدقيقة قبل التنفيذ.[^11]

## 4) الحصول على معلومات المجموعات والقنوات (فرق Bot API وMTProto)
إذا كان المطلوب تحليل خصائص محادثة بعينها، فلديك خياران:

- عبر Bot API:
  - getChat: معلومات أساسية محدثة عن الدردشة.
  - getChatAdministrators: قائمة المشرفين.
  - getChatMemberCount: عداد الأعضاء.
  - getChatMember: تفاصيل عضو محدد (مضمونة لغير البوت فقط إذا كان البوت مشرفًا).[^1]

- عبر MTProto (TDLib): توفّر كائنات مثل Chat وChannel وطرق مثل GetChannelParticipants ومسارات قراءة معلومات الكيانات. كما توجد مرجعيات مثل getChatMember في TDLib للحصول على تفاصيل عضو واحد.[^3][^4]

جدول 3 — تلخيص طرق معلومات الدردشة في Bot API
| الطريقة | المخرجات | أبرز الاستخدامات |
|---|---|---|
| getChat | معلومات الدردشة المحدثة | الوصف، العنوان، اسم المستخدم، نوع الدردشة |
| getChatAdministrators | قائمة المشرفين | إدارة الإشراف، تفويض صلاحيات |
| getChatMemberCount | عدد الأعضاء | مؤشرات النشاط/الحجم |
| getChatMember | بيانات عضو بعينه | التحقق من دور/عضوية |

عمليًا، استخدم Bot API عندما تكون المصلحة التطبيقية محصورة بمحادثة انضممت إليها كبوت، وهو ما يضمن توافقًا أفضل مع نموذج الأذونات. أما إذا كان المطلوب تحليل أوسع على مستوى البنية والخصائص عبر حسابات/جلسات مستخدمين (بدون كونك مشرفًا)، فـ MTProto يمنح وصولًا أوسع، مع ضرورة الامتثال لسياسات المنصة.[^1][^3][^4]

### 4.1) عبر Bot API
حالات الاستخدام النمطية: التحقق من ملكية قناة/مجموعة للبوت قبل تنفيذ مهمة، جلب عدد الأعضاء دوريًا، أو فحص صلاحيات المستخدم قبل تنفيذ أمر إداري. هذه العمليات تحمل زمن استجابة جيدًا وتندمج بسلاسة في تطبيقات التفاعل.[^1]

### 4.2) عبر MTProto/TDLib
يوفّر TDLib كائنات Chat/Channel مع طرق لإدارة المشاركين وقراءة معلوماتهم، مثل getChatMember في مرجع TDLib. هذا المسار مناسب عند الحاجة إلى تعدادٍ أوسع أو بناء تحليلات بعيدًا عن حدود البوت، لكن مع عناية أكبر بحدود المنصة والخصوصية.[^3][^4]

## 5) القيود والحدود: Rate Limits، الوصول للمحتوى، والفتحات المجانية للبحث المدفوع
لا تُبنى حلول البحث والتكامل على افتراضات غير دقيقة حول الحدود. الجدول التالي يجمّع أبرز ما يخص أتمتة البوتات والبحث العام.

جدول 4 — خلاصة حدود Bot API للمراسلة (قيم مرجعية)
| نوع الدردشة/القناة | الحد التوجيهي |
|---|---|
| دردشة فردية | 1 رسالة/ثانية |
| مجموعات/قنوات | 20 رسالة/دقيقة |
| الحد الكلي عبر جميع الدردشات | 30 رسالة/ثانية |

هذه الحدود مرجعية وتستند إلى أدلة إرشادية خارجية موثوقة؛ لا بد من التعامل معها كحدود “ناعمة” قد تتغيّر، والبناء على آليات تراجع وإعادة محاولة عند ورود خطأ 429.[^6][^5]

إلى جانب ذلك، توجد قيود تشغيلية أخرى للحسابات والمحتوى ينبغي أخذها بالحسبان عند بناء ميزات متقدمة:

جدول 5 — قيود منصّية عامة (مختارات عملية)
| البند | القيمة/الوصف المرجعي |
|---|---|
| عضوية القنوات/المجموعات الخارقة | حتى 500 افتراضيًا؛ قد تصل حتى 1000 بحسب الحالة والتحديثات |
| طول اسم/وصف المجموعة أو القناة | حتى 255 حرفًا |
| عدد المشرفين في مجموعات/قنوات | حتى 50 |
| عدد البوتات في مجموعة | حتى 20 |
| طول الرسالة | حتى 4096 حرفًا |
| حد حجم الملف | حتى 2GB افتراضيًا |
| العناصر في الألبوم (صور/فيديو/مستندات) | حتى 10 عناصر |
| الرسائل المثبتة | غير محدود |
| الرسائل المرئية في مجموعة | حتى مليون رسالة أخيرة |
| القنوات الخاصة المشاهدة دون انضمام | لعدد محدود من الدقائق، وفق ضوابط المنصة |

تستند هذه القيم إلى مرجع مجمّع موثوق، وقد تتغير مع تحديثات المنصة. يُنصح بمراجعتها دوريًا عند تصميم الميزات.[^7]

### 5.1) Rate Limits للبوتات
- دردشة فردية: حتى 1 رسالة/ثانية؛ مجموعات/قنوات: حتى 20 رسالة/دقيقة؛ حد كلي حتى 30 رسالة/ثانية.
- تجاوز الحدود يؤدي غالبًا إلى أخطاء 429 (Too Many Requests).
- أفضل الممارسات: استخدام طوابير إرسال، ضبط معدلات إرسال مختلفة للدردشات الفردية مقابل المجموعات/القنوات، إعادة المحاولة مع تراجع أسي عند ورود 429.[^6]

### 5.2) قيود الوصول للمحتوى
- الحسابات/القنوات الخاصة لا تظهر في البحث دون رابط دعوة مناسب.
- البوتات تتلقى الرسائل وتعمل ضمن الأذونات الممنوحة داخل المحادثة فقط.
- البحث العالمي عبر channels.searchPosts وmessages.searchGlobal يستهدف المحتوى العام.[^2][^1]

### 5.3) فتحات البحث المجانية والدفع بالنجوم (channels.searchPosts)
يوضّح الجدول التالي حقول التحقق قبل وأثناء تنفيذ البحث:

جدول 6 — حقول SearchPostsFlood ودلالتها
| الحقل | الدلالة العملية |
|---|---|
| query_is_free | هل الاستعلام مجاني لهذا المستخدم في اللحظة الراهنة؟ |
| total_daily | إجمالي الفتحات المجانية اليومية للمستخدم |
| remains | عدد الفتحات المتبقية |
| wait_till | زمن (unix) توفر فتحات جديدة |
| stars_amount | المبلغ بالنجوم المطلوب للدفع إذا استُنفدت الفتحات |

تدفق العمل السليم: 
1) استدعِ channels.checkSearchPostsFlood للحصول على الحالة الحالية للفتحات. 
2) إن كانت remains = 0 ولم يكن query_is_free = true، فقرّر إما الانتظار حتى wait_till أو تمرير allow_paid_stars في channels.searchPosts. 
3) نفّذ الاستعلام مع إدارة الصفحات عبر offset_rate/offset_peer/offset_id/limit.[^2]

## 6) أمثلة عملية قابلة للتنفيذ
هذه الأمثلة توضح كيفية الجمع بين قدرات MTProto وBot API في سيناريوهات واقعية، مع وضع إدارة الأخطاء والصفحات في الحسبان.

مثال 1 — عملية بحث عامة (MTProto) بالكلمات المفتاحية مع تصفية المحتوى
- الهدف: العثور على جميع الروابط في مجموعة عامة خلال أسبوع الماضي، مع تقسيم النتائج على صفحات.
- الخطوات:
  1) حضّر InputPeer للمجموعة.
  2) نفّذ messages.search مع q = "keyword"، filter = inputMessagesFilterUrl، وحدد min_date/max_date، وأضبط add_offset/limit للتصفح التدريجي.
  3) عالج الصفحات عبر offset_id وmax_id/min_id لضمان عدم تكرار النتائج.
- الاعتبارات: إدارة حدود المعدل عند التصفح الطويل، وإيقاف التكرار عند الوصول إلى حدّ الرسائل المرئية في المحادثة (مثل مليون رسالة في المجموعات).[^2][^7]

مثال 2 — استكشاف منشورات القنوات العامة (channels.searchPosts) والفتحات المجانية
- الهدف: رصد منشورات قناة عامة تحتوي على كلمة مفتاحية.
- الخطوات:
  1) استدعِ channels.checkSearchPostsFlood؛ إذا كانت remains > 0 أو query_is_free = true، فتابع.
  2) نفّذ channels.searchPosts مع query وإدارة الصفحات عبر offset_rate/offset_peer/offset_id/limit.
  3) عند الاستنفاد، قرّر بين الانتظار حتى wait_till أو تمرير allow_paid_stars بمبلغ stars_amount.
- الاعتبارات: راقب query_is_free لتجنب خصم فتحات غير ضرورية؛ سجّل التكلفة الزمنية والمالية؛ راقب الأخطاء وطبّق تراجعًا أسيًا.[^2]

مثال 3 — جلب معلومات محادثة محددة عبر Bot API
- الهدف: قبل تنفيذ مهمة دورية (مثل نسخ رسائل)، تأكد من الأذونات وعداد الأعضاء.
- الخطوات:
  1) getChat لجمع الوصف والاسم واسم المستخدم ونوع الدردشة.
  2) getChatAdministrators للتحقق من وجودك كمشرف قبل تنفيذ مهام تتطلب صلاحيات.
  3) getChatMemberCount لتقدير حجم الجمهور.
  4) getChatMember لتفقد دور مستخدم محدد عند الحاجة.
- الاعاملات: لا تفترض نتائج خارج سياقات البوت؛ إن لم تكن مشرفًا، قد لا تحصل على معلومات تفصيلية لبعض المستخدمين. استفد من هذه القيود كشرط أمني قبل التنفيذ.[^1]

مثال 4 — دمج البحث العالمي واستخراج معلومات القناة
- الهدف: العثور على قنوات عامة تتناول موضوعًا معينًا ثم فحص معلوماتها.
- الخطوات:
  1) messages.searchGlobal مع groups_only/broadcasts_only وتصفيات مناسبة (مثل الموسيقى/الصور) لتضييق الخيارات.
  2) بعد جمع قائمة بكيانات القناة، استدعِ بيانات تفصيلية عبر Bot API (getChat) أو MTProto (أنواع Chat/Channel) بحسب الأذونات.
- الاعتبارات: قد تتطلب بعض القنوات رابط دعوة/انضمام لعرض تفاصيل معينة؛ استفد من المنطق الشرطي في الكود لتكييف تدفق العمل.[^2][^1]

جدول 7 — قائمة المعلمات الأساسية لكل مثال
| السيناريو | الطريقة/المرشح | أهم المعلمات | ملاحظات تنفيذية |
|---|---|---|---|
| بحث داخل دردشة | messages.search | q, filter, min_date, max_date, add_offset, limit, offset_id | ضبط window زمني وتجنب التكرار عبر max_id/min_id |
| بحث عالمي | messages.searchGlobal | q, broadcasts_only/groups_only/users_only, offset_rate, offset_peer, offset_id, limit | اختيار التبويب المناسب وتتبع الصفحات |
| منشورات قنوات عامة | channels.searchPosts | query/hashtag, allow_paid_stars, offset_rate, offset_peer, offset_id, limit | تحقق مسبق من الفتحات عبر checkSearchPostsFlood |
| معلومات محادثة | getChat, getChatAdministrators, getChatMemberCount, getChatMember | chat_id, user_id | يفرض Bot API قيود رؤية للأعضاء إن لم تكن مشرفًا |

## 7) أفضل الممارسات والتعامل مع الأخطاء
- تصميم نظام طوابير ومحددات معدل مخصصة للدردشات الفردية والمجموعات/القنوات، مع ضبط الحد الكلي وفق مؤشرات المنصة. 
- التعامل مع 429 عبر تراجع أسي وإعادة المحاولة، مع تسجيل زمني للحظات التعثّر وتوزيع الحمل على فترات أطول.
- تحقق مسبقًا من فتحات البحث قبل تنفيذ channels.searchPosts، وخذ في الحسبان تكلفة النجوم عند الاستنفاد، ووازن بين الانتظار والدفع وفق متطلبات العمل.
- امتثال صارم لخصوصية المستخدم وشروط الخدمة: لا تحاول الوصول إلى محتوى لا تملك صلاحية لقراءته، ولا تخرق أذونات البوت أو سياسات المنصة.
- راقب تحديثات حدود المنصة، خاصة الحدود العامة للحسابات والرسائل والملفات، وعدّل الضبط في شفرتك بما يتوافق مع أحدث الإرشادات.[^6][^5][^7]

## 8) ملاحق وروابط سريعة
ملخص سريع لطرق Telegram API (MTProto) المذكورة في هذا التقرير:
- messages.search: البحث داخل دردشة.
- messages.searchGlobal: البحث العالمي مع تصفيات متقدمة.
- channels.searchPosts: البحث عن منشورات القنوات العامة والهاشتاغات.
- channels.checkSearchPostsFlood: التحقق من حالة فتحات البحث المجانية والمدية.
-_messages.getSearchCounters: عدادات بحث للمرشحات دون جلب الرسائل (مرجع مساعد).[^2]

قائمة مرشحات الرسائل (InputMessagesFilter*) المذكورة:
- Photos، Video، PhotoVideo، Document، Url، Gif، Voice، Music، ChatPhotos، PhoneCalls، RoundVoice، RoundVideo، MyMentions، Geo، Contacts، Pinned.[^2]

للاستزادة التنفيذية:
- ألقِ نظرة على نظرة Telethon حول العمل مع المجموعات والقنوات لمسارات الانضمام والاستكشاف ضمن جلسات المستخدم (تذكّر: تيليجرام لا يوفّر بحثًا مجتمعيًا عامًا عبر Telethon كما هو متاح عبر واجهات البحث العالمية في MTProto).
- عند تنفيذ عمليات على مستوى الكيانات (قنوات/مجموعات)، قد تحتاج إلى طرق.channels.* بحسب الحالة.

ملاحظات حول فجوات المعلومات في هذه المقتطفات:
- صيغ وطرق signatures قد تتطلب العودة إلى صفحة Methods الرسمية لضبط البارامترات بالصياغة الدقيقة.
- تفاصيل كلمات البحث (قواعد بناء الاستعلام، الرموز الخاصة، معالجة الترميز) غير مكتملة هنا.
- التطابق الدقيق بين تبويبات البحث في واجهة المستخدم وطرق API (مثل قنوات.getChannelRecommendations أو bots.getPopularAppBots) يحتاج تحققًا إضافيًا من الوثائق الشاملة قبل الاعتماد عليه برمجيًا.[^11][^8]

---

الخلاصة التنفيذية: إذا كان هدفك استكشاف المحتوى العام وتصنيفه، فابدأ بواجهة MTProto (messages.searchGlobal، channels.searchPosts) مع مرشحات InputMessagesFilter*. وإذا كان هدفك إدارة محادثة محددة، فـ Bot API (getChat، getChatAdministrators، getChatMemberCount، getChatMember) يقدّم ما تحتاجه ضمن حدود الأذونات. وفي جميع الأحوال، تعامل مع الحدود كقواعد تصميم، لا كقيود لاحقة؛ صمّم طوابيرك ومعدّلاتك منذ البداية لتتفادى أعطال 429 وتضمن امتثالك الدائم لشروط الخدمة.[^2][^1][^7]

## المراجع
[^1]: Telegram Bot API (الوثيقة الرسمية). https://core.telegram.org/bots/api  
[^2]: Search — Telegram APIs (البحث والمرشحات والعلامات). https://core.telegram.org/api/search  
[^3]: TDLib: getChatMember Class Reference. https://core.telegram.org/tdlib/docs/classtd_1_1td__api_1_1get_chat_member.html  
[^4]: Telegram APIs: Channels, supergroups, gigagroups and basic groups. https://core.telegram.org/api/channel  
[^5]: Telegram Limits — tginfo (حدود وشروط منصّية محدثة). https://limits.tginfo.me/en  
[^6]: Rollout: Telegram Bot API Essential Guide (حدود معدل وأفضل الممارسات). https://rollout.com/integration-guides/telegram-bot-api/api-essentials  
[^7]: Telethon: Working with Chats and Channels. https://docs.telethon.dev/en/stable/examples/chats-and-channels.html  
[^8]: Telegram APIs (صفحة شاملة للواجهات). https://core.telegram.org/  
[^9]: Methods — Telegram APIs (صيغ وطرق إضافية). https://core.telegram.org/methods  
[^10]: Introduction to the Telegram API (مقدمة عملية باستخدام Telethon). https://medium.com/data-science/introduction-to-the-telegram-api-b0cd220dbed2  
[^11]: How to search for groups and channels in telegram using Telethon? (مناقشة مجتمع حول غياب البحث المباشر). https://stackoverflow.com/questions/62016386/how-to-search-for-groups-and-channel-in-telegram-using-telethon